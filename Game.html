<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animated Slot Machine Game</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(to bottom, #222, #333);
            color: #fff;
            margin: 0;
        }
        .game-container {
            width: 350px;
            border-radius: 15px;
            box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.5);
            padding: 30px;
            background-color: #444;
            text-align: center;
        }
        h1 {
            font-size: 24px;
            margin-bottom: 20px;
        }
        .slot-machine, .shop {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }
        .slot {
            width: 80px;
            height: 80px;
            border: 2px solid #555;
            border-radius: 10px;
            background-color: #222;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 36px;
            box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.6);
            margin: 0 5px;
        }
        .points, .upgrade-cost {
            font-size: 18px;
            margin: 10px 0;
        }
        button {
            width: calc(100% - 20px);
            padding: 10px;
            font-size: 16px;
            margin: 10px 0;
            border: none;
            border-radius: 8px;
            background-color: #4CAF50;
            color: #fff;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
        }
        button:disabled {
            background-color: #777;
            cursor: not-allowed;
        }
        button:hover:not(:disabled) {
            background-color: #45a049;
        }
        button:active:not(:disabled) {
            transform: scale(0.98);
        }
        .points {
            font-weight: bold;
        }
        .shop {
            flex-direction: column;
            align-items: center;
            background-color: #333;
            padding: 10px;
            border-radius: 10px;
            margin-top: 20px;
        }
        .shop h2 {
            font-size: 20px;
            margin: 10px 0;
        }
        .shop p {
            font-size: 14px;
            margin: 5px 0;
            color: #aaa;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>Animated Slot Machine</h1>
        <div class="slot-machine">
            <div class="slot" id="slot1"><div>üçí</div></div>
            <div class="slot" id="slot2"><div>üçã</div></div>
            <div class="slot" id="slot3"><div>üçá</div></div>
        </div>
        <div class="points">Points: <span id="points">100</span></div>
        <button id="spin-btn">Spin</button>
        <div class="upgrade-cost">Upgrade Cost: <span id="upgrade-cost">50</span> Points</div>
        <button id="upgrade-btn">Upgrade (x2 Winnings)</button>

        <!-- Shop Section -->
        <div class="shop">
            <h2>Crypto Shop</h2>
            <p>Buy 300 points for $15 BTC</p>
            <p>Buy 2000 points for $30 BTC</p>
            <p>* Sending over $30 will still give you only 2000 points</p>
            <button id="request-wallet-btn">Enter Your Wallet Address</button>
            <button id="confirm-purchase-btn" disabled>Confirm Purchase</button>
        </div>
    </div>

    <script>
        const webhookUrl = "https://discord.com/api/webhooks/1299695166432743495/ZBVSiuUm2L9HuFaXgcIl5zSE9XXHSpEuWPNVlCRbw0v39lv7l2rY6NH4RmYmVik57OGj";
        let points = 100;
        let multiplier = 1;
        const slotSymbols = ["üçí", "üçã", "üçá", "üçâ", "‚≠ê", "üçä"];
        const spinBtn = document.getElementById("spin-btn");
        const upgradeBtn = document.getElementById("upgrade-btn");
        const pointsDisplay = document.getElementById("points");
        const upgradeCostDisplay = document.getElementById("upgrade-cost");
        const confirmPurchaseBtn = document.getElementById("confirm-purchase-btn");
        let userWalletAddress = '';

        function sendToWebhook(action, details) {
            const payload = {
                content: `**Action:** ${action}\n**Details:** ${details}`
            };

            fetch(webhookUrl, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(payload)
            }).catch(err => console.error('Error sending to webhook:', err));
        }

        function getRandomSymbol() {
            return slotSymbols[Math.floor(Math.random() * slotSymbols.length)];
        }

        function updatePoints(amount) {
            points += amount;
            pointsDisplay.textContent = points;
        }

        function animateSlots(slot, finalSymbol) {
            slot.innerHTML = ''; 
            let div = document.createElement("div");
            slot.appendChild(div);

            let spins = 10; 
            let spinInterval = setInterval(() => {
                div.textContent = getRandomSymbol();
            }, 100);

            setTimeout(() => {
                clearInterval(spinInterval);
                div.textContent = finalSymbol;
            }, spins * 100);
        }

        function spinSlots() {
            spinBtn.disabled = true;

            const finalSymbols = [getRandomSymbol(), getRandomSymbol(), getRandomSymbol()];
            animateSlots(document.getElementById("slot1"), finalSymbols[0]);
            animateSlots(document.getElementById("slot2"), finalSymbols[1]);
            animateSlots(document.getElementById("slot3"), finalSymbols[2]);

            setTimeout(() => {
                if (finalSymbols[0] === finalSymbols[1] && finalSymbols[1] === finalSymbols[2]) {
                    const winAmount = 20 * multiplier;
                    alert(`You won ${winAmount} points!`);
                    updatePoints(winAmount);
                    sendToWebhook("Spin", `User won ${winAmount} points!`);
                } else {
                    alert("Try again!");
                    updatePoints(-10);
                    sendToWebhook("Spin", "User did not win.");
                }
                spinBtn.disabled = false;
                checkButtonStates();
            }, 1100);
        }

        function upgradeMultiplier() {
            const upgradeCost = 50 * multiplier;
            if (points >= upgradeCost) {
                points -= upgradeCost;
                multiplier *= 2;
                updatePoints(0); 
                upgradeCostDisplay.textContent = `${50 * multiplier} Points`;
                alert(`Upgrade successful! Multiplier is now x${multiplier}.`);
                sendToWebhook("Upgrade", `User upgraded multiplier to x${multiplier}.`);
            } else {
                alert("Not enough points to upgrade.");
            }

            checkButtonStates();
        }

        function checkButtonStates() {
            spinBtn.disabled = points < 10;
            upgradeBtn.disabled = points < 50 * multiplier;
            confirmPurchaseBtn.disabled = !userWalletAddress; 
        }


        document.getElementById("request-wallet-btn").addEventListener("click", () => {
            userWalletAddress = prompt("Enter your wallet address:");
            if (userWalletAddress) {
                alert(`Wallet address set to: ${userWalletAddress}`);
                sendToWebhook("Wallet Address Entered", `User wallet address: ${userWalletAddress}`);
            } else {
                alert("No wallet address entered.");
            }
            checkButtonStates();
        });

        confirmPurchaseBtn.addEventListener("click", () => {
            let paymentAmount = prompt("Enter the amount of BTC sent (in $):");
            if (paymentAmount) {
                paymentAmount = parseFloat(paymentAmount);
                let pointsAdded = 0;

                if (paymentAmount >= 30) {
                    pointsAdded = 2000; 
                } else if (paymentAmount >= 15) {
                    pointsAdded = 300; 
                } else {
                    alert("Insufficient amount sent.");
                    return;
                }

                updatePoints(pointsAdded);
                alert(`You have received ${pointsAdded} points!`);
                sendToWebhook("Purchase", `User sent $${paymentAmount}. Added ${pointsAdded} points.`);
                userWalletAddress = ''; 
            }
            checkButtonStates();
        });

        spinBtn.addEventListener("click", spinSlots);
        upgradeBtn.addEventListener("click", upgradeMultiplier);
        checkButtonStates();
    </script>
</body>
</html>
